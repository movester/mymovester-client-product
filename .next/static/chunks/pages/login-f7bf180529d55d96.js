(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{307:function(n,e,t){"use strict";t.d(e,{$S:function(){return i},Bz:function(){return c},Hv:function(){return r},U5:function(){return o}});var o="http://pf.kakao.com/_NclkK/chat",r="https://movester.notion.site/1-0-13e2e2b4e62f4683b2e5013f2337f8f2?pvs=4",c="https://movester.notion.site/1-0-bfbb290d7b54428c8ed13137ae15a3d8?pvs=4",i="https://movester.notion.site/1-0-09b57384fa7b46909280f7d30b74e17c?pvs=4"},6975:function(n,e,t){"use strict";t.d(e,{M8:function(){return r},gy:function(){return s},hP:function(){return i},zI:function(){return c}});var o=t(1955);t(1202);var r=function(n){o.Z.set("access_token",n,{secure:!0,httpOnly:!1})},c=function(n){o.Z.set("refresh_token",n,{secure:!0,httpOnly:!1})},i=function(){return o.Z.get("access_token")},s=function(){o.Z.remove("refresh_token",{secure:!0}),o.Z.remove("access_token",{secure:!0})}},8995:function(n,e,t){"use strict";var o=t(7294),r=t(1852);e.Z=function(){var n=(0,o.useState)(!1),e=n[0],t=n[1],c=(0,r.useMediaQuery)({query:"(max-width: 768px)"});return(0,o.useEffect)(function(){t(!!c)},[c]),e}},5810:function(n,e,t){"use strict";t.r(e);var o=t(29),r=t(7794),c=t.n(r),i=t(508),s=t(5675),u=t.n(s),a=t(555),f=t(1163),h=t(1664),p=t.n(h),l=t(307),d=t(8995),k=t(7294),_=t(6975),g=t(5893),v="http://movester.kr/login";e.default=function(){var n,e,t=(0,f.useRouter)(),r=t.query,i=r.code,s=r.error,h=(0,k.useCallback)((n=(0,o.Z)(c().mark(function n(e){return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://kauth.kakao.com/oauth/token?grant_type=authorization_code&client_id=".concat("c5e32d27b97eb5ef27fb6a65af1edb21","&redirect_uri=").concat(v,"&client_secret=").concat("UV0yqSBuZjW0mCvOHJ6lVS33WlnXq8vw","&code=").concat(e),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(n){return n.json()}).then(function(n){window.Kakao.Auth.setAccessToken("".concat(n.access_token)),fetch("/api/login/kakao",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({socialUid:n.access_token})}).then(function(n){return n.json()}).then(function(n){n.accessToken&&n.refreshToken&&((0,_.M8)(n.accessToken),(0,_.zI)(n.refreshToken),t.push("/stretchings"))})}).catch(function(n){return console.log("error",n)});case 2:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)}),[t]);(0,k.useEffect)(function(){i?h(i):s&&console.log(s)},[h,i,s,t]);var w=(e=(0,o.Z)(c().mark(function n(){return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.Kakao.Auth.authorize({redirectUri:"".concat(v),scope:"account_email,profile_nickname,profile_image"}).then(function(n){return console.log(n)});case 2:n.sent;case 3:case"end":return n.stop()}},n)})),function(){return e.apply(this,arguments)}),x=(0,d.Z)();return(0,g.jsxs)(m,{children:[(0,g.jsx)(u(),{src:"/logo.png",width:x?200:400,height:x?50:100,alt:"",onClick:function(){return t.push("/stretchings")}}),(0,g.jsxs)(a.Box,{display:"flex",flexDirection:"column",gap:4,alignItems:"center",height:"fit-content",padding:"0 0 64px 0",children:[x?(0,g.jsx)(u(),{src:"/kakao_login_medium_narrow.png",width:183,height:45,alt:"",onClick:w}):(0,g.jsx)(u(),{src:"/kakao_login_button.png",width:400,height:60,alt:"",onClick:w}),(0,g.jsx)(p(),{href:l.U5,children:(0,g.jsx)(a.Typography,{variants:"body2",children:"문의하기"})})]})]})};var m=i.default.div.withConfig({displayName:"login__PageWrapper",componentId:"sc-gxcfhp-0"})(["width:100%;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:64px;div :hover{cursor:pointer;}"])},3236:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(5810)}])},29:function(n,e,t){"use strict";function o(n,e,t,o,r,c,i){try{var s=n[c](i),u=s.value}catch(n){t(n);return}s.done?e(u):Promise.resolve(u).then(o,r)}function r(n){return function(){var e=this,t=arguments;return new Promise(function(r,c){var i=n.apply(e,t);function s(n){o(i,r,c,s,u,"next",n)}function u(n){o(i,r,c,s,u,"throw",n)}s(void 0)})}}t.d(e,{Z:function(){return r}})}},function(n){n.O(0,[228,617,609,481,852,675,664,774,888,179],function(){return n(n.s=3236)}),_N_E=n.O()}]);