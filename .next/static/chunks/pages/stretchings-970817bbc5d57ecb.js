(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{6598:function(e,t,n){"use strict";n.d(t,{D_:function(){return r},fC:function(){return i},iW:function(){return o}});var i={UPPER_BODY:"상체",LOWER_BODY:"하체"},r={NECK:"목/가슴/어깨",ARM:"팔/손/손목",BACK:"등/몸통",HIP_JOINT:"고관절/둔근",CALF:"종아리/발목/발",KNEE:"무릎/허벅지"},o={RELIEF_PAIN:"통증완화",IMPROVE_POSTURE:"자세개선",RELAX_MUSCLE:"근육이완",BLOOD_CIRCULATION:"혈액순환",RELIEF_TURTLE_NECK:"거북목 완화",RELIEF_ROUND_SHOULDER:"라운드숄더 완화"}},2564:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return k},default:function(){return A}});var i,r=n(508),o=n(1461),a=n(9026),s=n(7294),c=[{name:"상체 전체",id:"UPPER_BODY",img:"https://mymovester-product.s3.ap-northeast-2.amazonaws.com/icons/category_upperBody.PNG"},{name:"목/가슴/어께",id:"NECK",img:"https://mymovester-product.s3.ap-northeast-2.amazonaws.com/icons/category_neck.png"},{name:"팔/손/손목",id:"ARM",img:"https://mymovester-product.s3.ap-northeast-2.amazonaws.com/icons/category_arm.PNG"},{name:"등/몸통",id:"BACK",img:"https://mymovester-product.s3.ap-northeast-2.amazonaws.com/icons/category_back.PNG"},{name:"하체 전체",id:"LOWER_BODY",img:"https://mymovester-product.s3.ap-northeast-2.amazonaws.com/icons/category_lowerBody.PNG"},{name:"고관절/둔근",id:"HIP_JOINT",img:"https://mymovester-product.s3.ap-northeast-2.amazonaws.com/icons/category_hipJoint.PNG"},{name:"종아리/발목/발",id:"CALF",img:"https://mymovester-product.s3.ap-northeast-2.amazonaws.com/icons/category_calf.PNG"},{name:"무릎/허벅지",id:"KNEE",img:"https://mymovester-product.s3.ap-northeast-2.amazonaws.com/icons/category_knee.PNG"}],l=[{name:"통증완화",id:"RELIEF_PAIN",img:"https://mymovester-product.s3.ap-northeast-2.amazonaws.com/icons/effect_reliefPain.PNG"},{name:"자세개선",id:"IMPROVE_POSTURE",img:"https://mymovester-product.s3.ap-northeast-2.amazonaws.com/icons/effect_improvePosture.PNG"},{name:"근육이완",id:"RELAX_MUSCLE",img:"https://mymovester-product.s3.ap-northeast-2.amazonaws.com/icons/effect_relaxMuscle.PNG"},{name:"혈액순환",id:"BLOOD_CIRCULATION",img:"https://mymovester-product.s3.ap-northeast-2.amazonaws.com/icons/effect_bloodCirculation.PNG"},{name:"거북목 완화",id:"RELIEF_TURTLE_NECK",img:"https://mymovester-product.s3.ap-northeast-2.amazonaws.com/icons/effect_turtleNeck.PNG"},{name:"라운드숄더 완화",id:"RELIEF_ROUND_SHOULDER",img:"https://mymovester-product.s3.ap-northeast-2.amazonaws.com/icons/effect_roundShoulder.PNG"}],d=[{name:"최신순",id:"RECENT"},{name:"조회순",id:"VIEW"}];[{name:"전체",id:"total"}].concat([{name:"상체",id:"UPPER_BODY"},{name:"하체",id:"LOWER_BODY"}]),[{name:"전체",id:"total"}].concat([{name:"목/가슴/어께",id:"NECK"},{name:"팔/손/손목",id:"ARM"},{name:"등/몸통",id:"BACK"}]),[{name:"전체",id:"total"}].concat([{name:"고관절/둔근",id:"HIP_JOINT"},{name:"종아리/발목/발",id:"CALF"},{name:"무릎/허벅지",id:"KNEE"}]);var u=n(1167),m=n(555),h=n(5893),p=function(e){var t=e.labelItems,n=e.selectedItem,i=e.setSelectedItem,r=(0,u.Z)();return(0,h.jsx)(m.Box,{display:"flex",flexDirection:"row",gap:1,backgroundColor:a.O.g000,border:"1px solid ".concat(a.O.g000),borderRadius:8,overflow:"hidden",width:"fit-content",children:t.length>0&&t.map(function(e){return(0,h.jsx)(m.Box,{width:r?120:200,height:r?30:40,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxSahdow:"4px 4px 8px rgba(0, 0, 0, 0.1)",backgroundColor:n.labelId===e.labelId?a.O.softPrimaryColor:a.O.f000,onClick:function(){return i(e)},children:(0,h.jsx)(m.Typography,{variants:r?"body2":"body1",color:n.labelId===e.labelId?a.O.f000:a.O.vividPrimaryColor,children:e.label})},"category-box-".concat(e.label,"-").concat(e.labelId))})})},f=n(5675),g=n.n(f),x=function(e){var t=e.menuItem,n=e.isSelected,i=e.setSelectedItem,r=(0,u.Z)();return(0,h.jsx)(y,{children:(0,h.jsxs)(m.Box,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:r?70:80,gap:4,onClick:function(){return i(t)},children:[(0,h.jsx)(m.Box,{backgroundColor:n?"#A6A0D2":a.O.f300,borderRadius:30,width:r?50:60,height:r?50:60,display:"flex",alignItems:"center",justifyContent:"center",boxSahdow:"4px 4px 8px rgba(0, 0, 0, 0.1)",children:(0,h.jsx)(g(),{src:t.img,width:r?40:50,height:r?40:50,alt:""})}),(0,h.jsx)(m.Typography,{variants:n?"heading3":"body2",children:t.name})]})})},y=r.styled.div.withConfig({displayName:"StretchingCategoryMenu__Wrapper",componentId:"sc-t79vnp-0"})([":hover{cursor:pointer;}"]),v=n(2587),_=n(2937),P=n(29),I=n(7794),b=n.n(I),C=n(2161),w=n(2924),E=n(8062);class N extends w.z{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,E.Gm)()},t)}getOptimisticResult(e){return e.behavior=(0,E.Gm)(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,t){var n,i,r,o,a,s;let{state:c}=e,l=super.createResult(e,t),{isFetching:d,isRefetching:u}=l,m=d&&(null==(n=c.fetchMeta)?void 0:null==(i=n.fetchMore)?void 0:i.direction)==="forward",h=d&&(null==(r=c.fetchMeta)?void 0:null==(o=r.fetchMore)?void 0:o.direction)==="backward";return{...l,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,E.Qy)(t,null==(a=c.data)?void 0:a.pages),hasPreviousPage:(0,E.ZF)(t,null==(s=c.data)?void 0:s.pages),isFetchingNextPage:m,isFetchingPreviousPage:h,isRefetching:u&&!m&&!h}}}var O=n(7187),j=(i=(0,P.Z)(b().mark(function e(t,n,i,r,o,a){var s,c,l,d,u;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=(s=function(e,t){return t?"".concat(e,"=").concat(t):"".concat(e)})("mainCategory",i),l=s("subCategory",r),d=s("effect",o),e.next=6,fetch("/api/stretchings?page=".concat(t,"&size=").concat(n,"&").concat(c,"&").concat(l,"&").concat(d,"&orderFilter=").concat(a)).then(function(e){return e.json()}).catch(function(e){return e});case 6:var m;return u=e.sent,e.abrupt("return",{data:function(e){if(Array.isArray(e))return(0,v.Z)(e)}(m=u.stretchingList)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(m)||(0,_.Z)(m)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),total:u.total,pagePrams:t});case 8:case"end":return e.stop()}},e)})),function(e,t,n,r,o,a){return i.apply(this,arguments)}),R=function(e){var t=e.size,n=e.mainCategory,i=e.subCategory,r=e.orderFilter,o=e.effect;return function(e,t,n){let i=(0,C._v)(e,void 0,void 0);return(0,O.r)(i,N)}({queryKey:["stretching","list",t,n,i,o,r],queryFn:function(e){var a=e.pageParam;return j(void 0===a?1:a,t,n,i,o,r)},getNextPageParam:function(e){return void 0!==e&&e.pagePrams+1<=Math.ceil(e.total/10)&&e.pagePrams+1},onError:function(e){console.log(e)},refetchOnWindowFocus:!1})},D=n(6598),B=function(e){var t=e.stretchingItem,n=e.onClick;return(0,h.jsx)(L,{onClick:function(){return n(t.id)},children:(0,h.jsxs)(m.Box,{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start",width:"100%",gap:8,children:[(0,h.jsx)(m.Box,{width:"100%",backgroundColor:a.O.f300,borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",children:(0,h.jsx)("img",{src:t.imageUrl})}),(0,h.jsxs)(m.Box,{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start",gap:4,children:[(0,h.jsx)(m.Typography,{variants:"heading2",children:t.title}),(0,h.jsxs)(m.Box,{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start",gap:0,children:[(0,h.jsxs)(m.Box,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start",height:"fit-content",gap:4,children:[(0,h.jsx)(m.Typography,{variants:"heading3",color:a.O.g100,children:D.fC[t.mainCategory]}),(0,h.jsx)(m.Typography,{variants:"heading3",color:a.O.g100,children:"|"}),(0,h.jsx)(m.Typography,{variants:"body2",color:a.O.g100,children:D.D_[t.subCategory]})]}),(0,h.jsx)(m.Typography,{variants:"body2",color:a.O.g100,children:D.iW[t.effect]})]})]})]})})},L=r.styled.div.withConfig({displayName:"DetailThumnailItem__Wrapper",componentId:"sc-h81sbx-0"})(["width:100%;:hover{cursor:pointer;}:hover img{transition:transform 0.2s ease-in-out;transform:scale(1.2);opacity:0.7;}"]),S=n(1163),T=n(2708),k=!0,A=function(e){var t=e.isLoggined,n=[{label:"타겟 부위",labelId:"sections"},{label:"효과",labelId:"effects"}],i=(0,u.Z)(),r=(0,S.useRouter)(),a=(0,s.useState)(n[0]),f=a[0],g=a[1],y=(0,s.useState)(d[0]),v=y[0],_=y[1],P=(0,s.useState)(null),I=P[0],b=P[1],C=(0,s.useState)(null),w=C[0],E=C[1],N=R({size:10,orderFilter:v.id,effect:null==w?void 0:w.id,mainCategory:(null==I?void 0:I.id)==="UPPER_BODY"||(null==I?void 0:I.id)==="LOWER_BODY"?null==I?void 0:I.id:null,subCategory:(null==I?void 0:I.id)!=="UPPER_BODY"&&(null==I?void 0:I.id)!=="LOWER_BODY"?null==I?void 0:I.id:null}),O=N.data,j=N.fetchNextPage,D=N.hasNextPage,L=N.isFetching,k=function(e){r.push({pathname:"stretchings/detail",query:{id:e}})};(0,s.useEffect)(function(){b(null),E(null)},[f]);var A=(0,T.YD)({threshold:.5,delay:0}),G=A.ref,F=A.inView;return(0,s.useEffect)(function(){F&&!L&&D&&j()},[F,L,D,j]),(0,h.jsxs)(z,{children:[(0,h.jsx)(o.y,{isLoggined:t,pageID:"STRETCHINGS"}),(0,h.jsxs)(M,{$ismobile:i,children:[(0,h.jsxs)(m.Box,{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",gap:32,width:"100%",children:[(0,h.jsx)(p,{labelItems:n,selectedItem:f,setSelectedItem:g}),(0,h.jsx)(m.Box,{display:"flex",flexDirection:"row",justifyContent:i?"start":"center",alignItems:"start",width:"100vw",overflow:"scroll",gap:4,children:"sections"===f.labelId?c.map(function(e){return(0,h.jsx)(x,{menuItem:e,isSelected:e.id===(null==I?void 0:I.id),setSelectedItem:b},"category-item-id-".concat(e.id))}):l.map(function(e){return(0,h.jsx)(x,{menuItem:e,isSelected:e.id===(null==w?void 0:w.id),setSelectedItem:E},"category-item-id-".concat(e.id))})})]}),(0,h.jsxs)(m.Box,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:16,children:[(0,h.jsx)(m.Box,{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"start",width:"100%",children:(0,h.jsx)(m.ComboBox,{size:"xs",list:d,value:v,setValue:_})}),O&&(0,h.jsx)(U,{children:O.pages.map(function(e){return null==e?void 0:e.data.map(function(e){return(0,h.jsx)(B,{stretchingItem:e,onClick:k},"".concat(e.id,"-thumnail-list"))})})}),(0,h.jsx)("div",{ref:G,children:(0,h.jsx)(m.Box,{height:32})})]})]})]})},z=r.styled.div.withConfig({displayName:"stretchings__PageWrapper",componentId:"sc-1c9h49u-0"})(["display:flex;background-color:",";flex-direction:column;justify-content:center;align-items:center;"],a.O.f000),M=r.styled.div.withConfig({displayName:"stretchings__ContentWrapper",componentId:"sc-1c9h49u-1"})(["padding-top:",";width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:72px;height:100%;overflow-x:scroll;max-width:2560px;padding-left:",";padding-right:",";padding-bottom:64px;"],function(e){return e.$ismobile?"40px":"80px"},function(e){return e.$ismobile?"16px":"64px"},function(e){return e.$ismobile?"16px":"64px"}),U=r.styled.div.withConfig({displayName:"stretchings__ItemGrid",componentId:"sc-1c9h49u-2"})(["max-width:900px;display:grid;grid-template-columns:repeat(4,1fr);gap:16px;@media screen and (max-width:900px){grid-template-columns:repeat(3,1fr);}@media screen and (max-width:560px){grid-template-columns:repeat(1,1fr);}"])},3908:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stretchings",function(){return n(2564)}])},29:function(e,t,n){"use strict";function i(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)})}}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[228,617,609,445,481,852,716,675,650,774,888,179],function(){return e(e.s=3908)}),_N_E=e.O()}]);