"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[650],{1461:function(e,n,t){t.d(n,{y:function(){return m}});var r=t(6835),i=t(508),o=t(9026),s=t(1163),c=t(1167),a=t(555),l=t(7294),u=t(5893),d=function(e){var n=e.children,t=e.modalOutsideClick,r=e.modalRef;return(0,u.jsx)(f,{ref:r,onClick:function(e){return t(e)},children:n})},f=i.default.div.withConfig({displayName:"Modal__Wrapper",componentId:"sc-64nbua-0"})(["position:fixed;width:100vw;height:100vh;top:0;left:0;background-color:transparent;z-index:800;"]),h=t(4480),p=t(6613),g=t(6975),x=t(9583),y=t(6492),v=function(e){var n=e.token;return(0,y.a)({queryFn:function(){return fetch("/api/user",{method:"GET",headers:{Authorization:"Bearer ".concat(n)}}).then(function(e){return console.log("call!"),e.json()}).catch(function(e){return e})},queryKey:["user","info",n],onError:function(e){console.log(e)},enabled:!!n,refetchOnWindowFocus:!1})},m=l.memo(function(e){var n=e.isLoggined,t=e.pageID,i=(0,h.FV)(p.D),f=(0,r.Z)(i,2),y=f[0],m=f[1],I=(0,s.useRouter)(),O=(0,c.Z)(),N=(0,l.useState)(!1),E=N[0],R=N[1],B=(0,l.useState)(null),M=B[0],P=B[1],S=(0,l.useState)(null),A=S[0],T=S[1],V=(0,l.useRef)(null),Z=v({token:A}).data;return(0,l.useEffect)(function(){n&&!y&&T((0,g.hP)())},[n,y]),(0,l.useEffect)(function(){m(Z)},[Z,m]),(0,l.useEffect)(function(){n&&y&&P(y.id)},[n,y]),(0,u.jsxs)(u.Fragment,{children:[E&&(0,u.jsx)(d,{modalRef:V,modalOutsideClick:function(e){V.current===e.target&&R(!1)},children:(0,u.jsxs)(j,{children:[(0,u.jsx)(a.Box,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",padding:8,children:(0,u.jsx)(a.Typography,{variants:"body2",children:(null==y?void 0:y.nickName)+"님"})}),(0,u.jsx)(k,{onClick:function(){return I.push("/users/".concat(M))},children:(0,u.jsx)(a.Typography,{variants:"body2",children:"마이페이지"})}),(0,u.jsx)(k,{onClick:function(){(0,g.gy)(),I.replace("/stretchings")},children:(0,u.jsx)(a.Typography,{variants:"body2",children:"로그아웃"})})]})}),(0,u.jsxs)(b,{$ismobile:O,children:[(0,u.jsxs)(_,{children:[(0,u.jsx)(a.Box,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:"100%",onClick:function(){return I.push("/")},children:(0,u.jsx)("img",{src:O?"/favicon.ico":"/logo.png",width:O?16:120,height:O?16:36,alt:""})}),(0,u.jsxs)(a.Box,{display:"flex",gap:16,justifyContent:"start",alignItems:"center",children:[(0,u.jsx)(a.Box,{onClick:function(){return I.push("/")},display:"flex",alignItems:"end",children:(0,u.jsx)(a.Typography,{variants:"heading2",color:"HOME"===t?o.O.vividPrimaryColor:o.O.g000,children:"홈"})}),(0,u.jsx)(a.Box,{onClick:function(){return I.push("/stretchings")},display:"flex",alignItems:"end",children:(0,u.jsx)(a.Typography,{variants:"heading2",color:"STRETCHINGS"===t?o.O.vividPrimaryColor:o.O.g000,children:"스트레칭"})})]})]}),(0,u.jsx)(w,{children:n?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(C,{$ismobile:O,onClick:function(){return R(function(e){return!e})},children:null!=y&&y.profileUrl?(0,u.jsx)("img",{width:"100%",height:"100%",src:y.profileUrl,alt:""}):(0,u.jsx)(x.Xws,{color:"white"})})}):(0,u.jsx)(a.Box,{onClick:function(){return I.push("/login")},children:(0,u.jsx)(a.Typography,{variants:"body2",children:"로그인 | 회원가입"})})})]})]})}),b=i.styled.div.withConfig({displayName:"Navigator__Wrapper",componentId:"sc-1owchbj-0"})(["background-color:",";height:auto;padding:",";width:100%;height:",";position:sticky;top:0;box-shadow:4px 4px 8px rgba(0,0,0,0.1);z-index:300;display:flex;justify-content:space-between;align-items:center;:hover{cursor:pointer;}"],o.O.f000,function(e){return e.$ismobile?"8px 16px":"16px"},function(e){return e.$ismobile?"50px":"70px"}),w=i.styled.div.withConfig({displayName:"Navigator__AccountWrapper",componentId:"sc-1owchbj-1"})([""]),j=i.styled.div.withConfig({displayName:"Navigator__MyPageModal",componentId:"sc-1owchbj-2"})(["position:absolute;right:32px;top:60px;background-color:",";border:1px solid ",";box-shadow:4px 4px 4px rgba(0,0,0,0.1);border-radius:8px;width:180px;height:auto;display:flex;flex-direction:column;padding:8px;gap:4px;"],o.O.f000,o.O.g200),k=i.styled.button.withConfig({displayName:"Navigator__MyPageModalListItem",componentId:"sc-1owchbj-3"})(["display:flex;flex-direction:row;justify-content:start;align-items:center;padding:8px;border-radius:4px;outline:none;border:0;background-color:transparent;&:hover{background-color:rgba(0,0,0,0.1);cursor:pointer;}"]),C=i.styled.div.withConfig({displayName:"Navigator__ProfileWrapper",componentId:"sc-1owchbj-4"})(["width:",";height:",";border-radius:50%;overflow:hidden;display:flex;justify-content:center;align-items:center;background-color:",";"],function(e){return e.$ismobile?"30px":"40px"},function(e){return e.$ismobile?"30px":"40px"},o.O.g200),_=i.styled.div.withConfig({displayName:"Navigator__NavigatorItemWrapper",componentId:"sc-1owchbj-5"})(["display:flex;align-items:center;justify-content:start;gap:32px;"])},9026:function(e,n,t){t.d(n,{O:function(){return r}});var r={r000:" #f64f59",softPrimaryColor:"#6D66AA",vividPrimaryColor:"#2A1598",f300:"#f7f7f7",f200:"#f2f2f2",f100:"#fafafa",f000:"#ffffff",g300:"#888383",g200:"#e5e5e5",g100:"#615B5B",g000:"#C4C4C4"}},6975:function(e,n,t){t.d(n,{M8:function(){return i},gy:function(){return c},hP:function(){return s},zI:function(){return o}});var r=t(1955);t(1202);var i=function(e){r.Z.set("access_token",e,{secure:!1,httpOnly:!1})},o=function(e){r.Z.set("refresh_token",e,{secure:!1,httpOnly:!1})},s=function(){return r.Z.get("access_token")},c=function(){r.Z.remove("refresh_token",{secure:!1}),r.Z.remove("access_token",{secure:!1})}},1167:function(e,n,t){var r=t(7294),i=t(1852);n.Z=function(){var e=(0,r.useState)(!1),n=e[0],t=e[1],o=(0,i.useMediaQuery)({query:"(max-width: 768px)"});return(0,r.useEffect)(function(){t(!!o)},[o]),n}},6613:function(e,n,t){t.d(n,{D:function(){return i}});var r=t(4480),i=(0,r.cn)({key:"userProfile",default:null});(0,r.cn)({key:"logginedCheckAtom",default:!1})},2708:function(e,n,t){t.d(n,{YD:function(){return l}});var r=t(7294),i=Object.defineProperty,o=new Map,s=new WeakMap,c=0,a=void 0;function l({threshold:e,delay:n,trackVisibility:t,rootMargin:i,root:l,triggerOnce:u,skip:d,initialInView:f,fallbackInView:h,onChange:p}={}){var g;let[x,y]=r.useState(null),v=r.useRef(),[m,b]=r.useState({inView:!!f,entry:void 0});v.current=p,r.useEffect(()=>{let r;if(!d&&x)return r=function(e,n,t={},r=a){if(void 0===window.IntersectionObserver&&void 0!==r){let i=e.getBoundingClientRect();return n(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof t.threshold?t.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}let{id:i,observer:l,elements:u}=function(e){let n=Object.keys(e).sort().filter(n=>void 0!==e[n]).map(n=>{var t;return`${n}_${"root"===n?(t=e.root)?(s.has(t)||(c+=1,s.set(t,c.toString())),s.get(t)):"0":e[n]}`}).toString(),t=o.get(n);if(!t){let r;let i=new Map,s=new IntersectionObserver(n=>{n.forEach(n=>{var t;let o=n.isIntersecting&&r.some(e=>n.intersectionRatio>=e);e.trackVisibility&&void 0===n.isVisible&&(n.isVisible=o),null==(t=i.get(n.target))||t.forEach(e=>{e(o,n)})})},e);r=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),t={id:n,observer:s,elements:i},o.set(n,t)}return t}(t),d=u.get(e)||[];return u.has(e)||u.set(e,d),d.push(n),l.observe(e),function(){d.splice(d.indexOf(n),1),0===d.length&&(u.delete(e),l.unobserve(e)),0===u.size&&(l.disconnect(),o.delete(i))}}(x,(e,n)=>{b({inView:e,entry:n}),v.current&&v.current(e,n),n.isIntersecting&&u&&r&&(r(),r=void 0)},{root:l,rootMargin:i,threshold:e,trackVisibility:t,delay:n},h),()=>{r&&r()}},[Array.isArray(e)?e.toString():e,x,l,i,u,d,t,h,n]);let w=null==(g=m.entry)?void 0:g.target,j=r.useRef();x||!w||u||d||j.current===w||(j.current=w,b({inView:!!f,entry:void 0}));let k=[y,m.inView,m.entry];return k.ref=k[0],k.inView=k[1],k.entry=k[2],k}r.Component}}]);